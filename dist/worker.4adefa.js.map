{"version":3,"sources":["worker.4adefa.js","webpack/bootstrap c3eed6adea46984cf536","./src/worker/index.js","./src/types.js","./src/worker/Regexp.js","./src/worker/Coordinates.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_types","_Regexp","_Regexp2","regexp","onmessage","event","_event$data","data","method","PARSE","result","parse","error","postMessage","ERROR","RESIZE","resize","READY","MODE_NONE","MODE_LIST","MODE_REPLACE","BOX_NONE","BOX_NAV","BOX_FLAGS","BOX_MODES","_classCallCheck","instance","Constructor","TypeError","escapeLinebreak","str","replace","LINEBREAK_RE","LINEBREAK","_Coordinates","_Coordinates2","SPECIAL_SEPARATOR_RE","Regexp","params","this","coordinates","_lastParams","_lastExec","prototype","matches","output","source","flags","RegExp","message","input","mode","_exec2","_exec","resolve","match","length","_execAndJoinList2","_execAndJoinList","o","q","resolvers","i","l","substr","Number","_execAndReplaceList2","_execAndReplaceList","_execAndReplace2","_execAndReplace","hold","global","point","value","exec","compute","index","push","Object","assign","subs","slice","_output","forEach","resolver","undefined","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","enumerable","writable","configurable","setPrototypeOf","__proto__","_extendableBuiltin","cls","ExtendableBuiltin","apply","arguments","LINE_BREAK_RE","Coordinates","_extendableBuiltin2","_temp","_this","_ret","_len","args","Array","_key","concat","options","_paraIndex","charWidth","paddingLeft","paddingRight","canvasWidth","charsPeerLine","Math","floor","_clear","selfParas","lastPoint","res","distance","selfLines","col","ceil","para","line","lastIndex","next","_options","charHeight","current","xywhs","beforeLength","left","middleLines","newLine","afterLength","splice"],"mappings":"CAAS,SAAUA,GCInB,QAAAC,GAAAC,GAGA,GAAAC,EAAAD,GACA,MAAAC,GAAAD,GAAAE,OAGA,IAAAC,GAAAF,EAAAD,IACAE,WACAE,GAAAJ,EACAK,QAAA,EAUA,OANAP,GAAAE,GAAAM,KAAAH,EAAAD,QAAAC,IAAAD,QAAAH,GAGAI,EAAAE,QAAA,EAGAF,EAAAD,QAvBA,GAAAD,KAqCA,OATAF,GAAAQ,EAAAT,EAGAC,EAAAS,EAAAP,EAGAF,EAAAU,EAAA,QAGAV,EAAA,KDMM,SAASI,EAAQD,EAASH,GAE/B,YAQA,SAASW,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GEtDxF,GAAAG,GAAAf,EAAA,GACAgB,EAAAhB,EAAA,GFmDKiB,EAAWN,EAAuBK,GEjDjCE,EAAS,GAAAD,iBAGfE,WAAY,SAAUC,GAAO,GAAAC,GACJD,EAAME,KAAtBC,EADoBF,EAAA,GACZC,EADYD,EAAA,EAE3B,QAAQE,GACN,IAAAR,GAAAS,MACE,GAAMC,GAASP,EAAOQ,MAAMJ,GACrBK,EAASF,EAATE,KACHA,GACFC,aAAYb,EAAAc,MAAQF,IAEpBC,aAAYb,EAAAS,MAAQC,GAEtB,MACF,KAAAV,GAAAe,OACEZ,EAAOa,OAAOT,KAKpBM,aAAYb,EAAAiB,SF8DN,SAAS5B,EAAQD,GAEtB,YAEAA,GAAQU,YAAa,CG1FToB,aAAY,KACZC,YAAY,IACZC,eAAe,IAEfX,QAAQ,IACRM,SAAS,IACTD,QAAQ,IACRG,QAAQ,IAERI,WAAW,KACXC,UAAU,IACVC,YAAY,IACZC,YAAY,KH+FnB,SAASnC,EAAQD,EAASH,GAE/B,YAUA,SAASW,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GAEvF,QAAS4B,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCItHjH,QAASC,GAAiBC,GACxB,MAAOA,GAAIC,QAAQC,EAAcC,GJ2GlC7C,EAAQU,YAAa,CI/GtB,IAAAE,GAAAf,EAAA,GACAiD,EAAAjD,EAAA,GJoHKkD,EAAgBvC,EAAuBsC,GI/GtCF,EAAe,OACfC,EAAY,KAEZG,EAAuB,YAERC,EJwHP,WIvHZ,QAAAA,GAAaC,GAAQb,EAAAc,KAAAF,GACnBE,KAAKC,YAAc,GAAAL,cAAgBG,GACnCC,KAAKE,YAAc,KACnBF,KAAKG,UAAY,KJmTlB,MAtLAL,GAAOM,UI1HR3B,OJ0H2B,SI1HnBsB,GACNC,KAAKC,YAAYxB,OAAOsB,IJ6HzBD,EAAOM,UI1HRhC,MJ0H0B,SI1HnB2B,GACL,GAAM5B,IACJkC,WACAC,OAAQ,GACRjC,MAAO,MAEJkC,EAAiBR,EAAjBQ,OAAQC,EAAST,EAATS,KACb,KAAKD,EAAQ,MAAOpC,EACpB,IAAIP,GAAS,IACb,KACEA,EAAS,GAAI6C,QAAOF,EAAQC,GAC5B,MAAOnC,GAKP,MADAF,GAAOE,MAAQA,EAAMqC,QACdvC,EAET,IAAKP,EAAQ,MAAOO,EAlBP,IAmBRwC,GAASZ,EAATY,KACL,KAAKA,EAAO,MAAOxC,EApBN,IAqBNyC,GAAQb,EAARa,IACP,KAAKA,EAAM,IAAAC,GACSb,KAAKc,MAAMlD,EAAQ+C,GAA9BN,EADEQ,EACFR,OAEP,OADAlC,GAAOkC,QAAUA,EACVlC,EAET,GAAM4C,GAAUzB,EAAgBS,EAAOgB,SAAW,GAClD,IAAIH,gBAAoB,CACtB,GAAM1D,GAAI6D,EAAQC,MAAMnB,EACxB,KAAK3C,GAAKA,EAAE+D,OAAS,EAAG,IAAAC,GAEIlB,KAAKmB,iBAAiBvD,EAAQ+C,EAAOI,GAAxDV,EAFea,EAEfb,QAASC,EAFMY,EAENZ,MAGhB,OAFAnC,GAAOkC,QAAUA,EACjBlC,EAAOmC,OAASA,EACTnC,EAGT,IAAK,GAAyBiD,GAAGhE,EAAGiE,EAD9BC,KACGC,EAAI,EAAGC,EAAItE,EAAE+D,OAAiBM,EAAIC,EAAGD,IAC5CH,EAAIlE,EAAEqE,GACNnE,EAAIgE,EAAEK,OAAO,EAAG,GAChBJ,EAAU,MAANjE,EAAY,EAAIsE,OAAOtE,GAC3BkE,EAAUD,GAAKD,CAdK,IAAAO,GAiBI3B,KAAK4B,oBAAoBhE,EAAQ+C,EAAOI,EAASO,GAApEjB,EAjBesB,EAiBftB,QAASC,EAjBMqB,EAiBNrB,MAGhB,OAFAnC,GAAOkC,QAAUA,EACjBlC,EAAOmC,OAASA,EACTnC,EACF,GAAA0D,GAEqB7B,KAAK8B,gBAAgBlE,EAAQ+C,EAAOI,GAAvDV,EAFFwB,EAEExB,QAASC,EAFXuB,EAEWvB,MAGhB,OAFAnC,GAAOkC,QAAUA,EACjBlC,EAAOmC,OAASA,EACTnC,GJkJV2B,EAAOM,UI9IRU,MJ8I0B,SI9InBlD,EAAQ+C,GACbX,KAAKC,YAAY8B,KAAKpB,EACtB,IAAMN,KACN,IAAIzC,EAAOoE,OAET,IADA,GAAIhB,UAAOiB,SAAOC,WACL,CAGX,GAFAlB,EAAQpD,EAAOuE,KAAKxB,GACpBuB,EAAQlB,GAASA,EAAM,IAClBkB,EAAO,KACZD,GAAQjC,KAAKC,YAAYmC,QAAQpB,EAAMqB,MAAOH,EAAMjB,QACpDZ,EAAQiC,KACNC,OAAOC,QACLN,QACAO,KAAMzB,EAAM0B,MAAM,IACjBT,QAGF,CACL,GAAMjB,GAAQpD,EAAOuE,KAAKxB,GACpBuB,EAAQlB,GAASA,EAAM,EAC7B,IAAIkB,EAAO,CACT,GAAMD,GAAQjC,KAAKC,YAAYmC,QAAQpB,EAAMqB,MAAOH,EAAMjB,OAC1DZ,GAAQiC,KACNC,OAAOC,QACLN,QACAO,KAAMzB,EAAM0B,MAAM,IACjBT,KAIT,OAAQ5B,YJ+ITP,EAAOM,UI5IRe,iBJ4IqC,SI5InBvD,EAAQ+C,EAAOI,GAC/Bf,KAAKC,YAAY8B,KAAKpB,EAItB,KAHA,GAAMN,MACFC,EAAS,GACTU,SAAOiB,SAAOC,WACL,CAGX,GAFAlB,EAAQpD,EAAOuE,KAAKxB,GACpBuB,EAAQlB,GAASA,EAAM,IAClBkB,EAAO,KACZD,GAAQjC,KAAKC,YAAYmC,QAAQpB,EAAMqB,MAAOH,EAAMjB,QACpDZ,EAAQiC,KACNC,OAAOC,QACLN,QACAO,KAAMzB,EAAM0B,MAAM,IACjBT,IAEL3B,GAAU4B,EAAQnB,EAEpB,OAAQV,UAASC,WJ+IlBR,EAAOM,UI5IRwB,oBJ4IwC,SI5InBhE,EAAQ+C,EAAOI,EAASO,GAC3CtB,KAAKC,YAAY8B,KAAKpB,EAItB,KAHA,GAAMN,MACFC,EAAS,GACTU,SAAOiB,SAAOC,SAAOS,WACZ,CAEX,GADA3B,EAAQpD,EAAOuE,KAAKxB,IACfK,IAAUA,EAAM,GAAI,KACzBkB,GAAQlB,EAAM,GACdiB,EAAQjC,KAAKC,YAAYmC,QAAQpB,EAAMqB,MAAOH,EAAMjB,QACpDZ,EAAQiC,KACNC,OAAOC,QACLN,QACAO,KAAMzB,EAAM0B,MAAM,IACjBT,IAELU,EAAU5B,EACVO,EAAUsB,QAAQ,SAACC,EAAUR,GACNS,SAAjB9B,EAAMqB,KACRM,EAAUA,EAAQnD,QAAQqD,EAAU7B,EAAMqB,OAG9C/B,GAAUqC,EAEZ,OAAQtC,UAASC,WJgJlBR,EAAOM,UI7IR0B,gBJ6IoC,SI7InBlE,EAAQ+C,EAAOI,GAC9Bf,KAAKC,YAAY8B,KAAKpB,EAGtB,KAFA,GAAMN,MACFW,SAAOiB,SAAOC,WACL,CAGX,GAFAlB,EAAQpD,EAAOuE,KAAKxB,GACpBuB,EAAQlB,GAASA,EAAM,IAClBkB,EAAO,KACZD,GAAQjC,KAAKC,YAAYmC,QAAQpB,EAAMqB,MAAOH,EAAMjB,QACpDZ,EAAQiC,KACNC,OAAOC,QACLN,QACAO,KAAMzB,EAAM0B,MAAM,IACjBT,IAGP,GAAM3B,GAASK,EAAMnB,QAAQ5B,EAAQmD,EACrC,QAAQV,UAASC,WJgJXR,IAGTjD,cI1ToBiD,GJ8Tf,SAAShD,EAAQD,GAEtB,YAIA,SAASqC,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAAS0D,GAA2BC,EAAM/F,GAAQ,IAAK+F,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAOhG,GAAyB,gBAATA,IAAqC,kBAATA,GAA8B+F,EAAP/F,EAElO,QAASiG,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAI/D,WAAU,iEAAoE+D,GAAeD,GAAS/C,UAAYmC,OAAOc,OAAOD,GAAcA,EAAWhD,WAAakD,aAAepB,MAAOiB,EAAUI,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeL,IAAYb,OAAOmB,eAAiBnB,OAAOmB,eAAeP,EAAUC,GAAcD,EAASQ,UAAYP,GAEje,QAASQ,GAAmBC,GAC1B,QAASC,KACPD,EAAIE,MAAM/D,KAAMgE,WAkBlB,MAfAF,GAAkB1D,UAAYmC,OAAOc,OAAOQ,EAAIzD,WAC9CkD,aACEpB,MAAO2B,EACPN,YAAY,EACZC,UAAU,EACVC,cAAc,KAIdlB,OAAOmB,eACTnB,OAAOmB,eAAeI,EAAmBD,GAEzCC,EAAkBH,UAAYE,EAGzBC,EA5BTjH,EAAQU,YAAa,CK7UtB,IAAM0G,GAAgB,MAEDC,EL4WF,SAAUC,GAG1B,QAASD,KACP,GAAIE,GAAOC,EAAOC,CAElBpF,GAAgBc,KAAMkE,EAEtB,KAAK,GAAIK,GAAOP,UAAU/C,OAAQuD,EAAOC,MAAMF,GAAOG,EAAO,EAAGA,EAAOH,EAAMG,IAC3EF,EAAKE,GAAQV,UAAUU,EAGzB,OAAeN,GAASC,EAAQtB,EAA2B/C,KAAMmE,EAAoBlH,KAAK8G,MAAMI,GAAsBnE,MAAM2E,OAAOH,KAAiBH,EKtXvJO,WLsX2KP,EKtU3KQ,WAAa,ELsUHP,EAAuLF,EAAQrB,EAA2BsB,EAAOC,GA8G1O,MAzHApB,GAAUgB,EAAaC,GAcvBD,EAAY9D,UKvXb3B,OLuXgC,SKvXxBmG,GAAS,GAEbE,GAIEF,EAJFE,UACAC,EAGEH,EAHFG,YACAC,EAEEJ,EAFFI,aACAC,EACEL,EADFK,WAEFL,GAAQM,cAAgBC,KAAKC,OAC1BH,EAAcF,EAAcC,GAAgBF,GAE/C9E,KAAK4E,QAAUA,GLuXhBV,EAAY9D,UKpXb2B,KLoX8B,SKpXxBpB,GAEJ,GADAX,KAAKqF,SACD1E,EAKF,IAJA,GAAMuE,GAAgBlF,KAAK4E,QAAQM,cAC7BI,EAAY,EACdC,EAAYvF,KAAK,GACjBwF,SAAKnD,SAAOoD,SAAUC,SAAWC,WACxB,CAEX,GADAH,EAAMvB,EAAc9B,KAAKxB,IACpB6E,EAAK,KACVnD,GAAQmD,EAAInD,MACZoD,EAAWpD,EAAQkD,EAAUlD,MACzBoD,GAAY,GACdC,EAAY,EACZC,EAAM,IAEND,EAAYP,KAAKS,MAAMH,EAAW,GAAKP,GACvCS,GAAOF,EAAW,GAAKP,EACX,IAARS,IACFA,EAAMT,IAGVK,GACElD,QACAwD,KAAMN,EAAUM,KAAOP,EACvBQ,KAAMP,EAAUO,KAAOJ,EACvBC,OAEF3F,KAAKsC,KAAKiD,KLmYfrB,EAAY9D,UKtXbgC,QLsXiC,SKtXxBC,EAAOpB,GAGd,IAFA,GAAM8E,GAAY/F,KAAKiB,OAAS,EAC5B+E,SACGhG,KAAK6E,WAAakB,IACvBC,EAAOhG,KAAKA,KAAK6E,WAAa,KAC1BmB,EAAK3D,MAAQA,KAGjBrC,KAAK6E,YARe,IAAAoB,GAWyBjG,KAAK4E,QAA7CE,EAXemB,EAWfnB,UAAWoB,EAXID,EAWJC,WAAYhB,EAXRe,EAWQf,cAExBiB,EAAUnG,KAAKA,KAAK6E,YACpBY,EAAWpD,EAAQ8D,EAAQ9D,MAC3BqD,EAAYP,KAAKS,KAAKH,EAAWP,GACnCS,EAAMF,EAAWP,CACrBS,IAAe,IAARA,EAAYT,EAAgBS,GAAO,CAC1C,IAAME,GAAOM,EAAQN,KAAO,EACtBC,EAAOK,EAAQL,KAAOJ,EACxBU,QACJ,IAAIT,EAAM1E,EAASiE,EACjBkB,IACEtB,EAAYa,EACZO,EAAaJ,EACbhB,EAAY7D,EACZiF,QAEG,CACL,GAAMG,GAAenB,EAAgBS,CACrCS,KACEtB,EAAYa,EACZO,EAAaJ,EACbhB,EAAYuB,EACZH,GAEF,IAAMI,GAAOrF,EAASoF,EAChBE,EAAcpB,KAAKC,MAAMkB,EAAOpB,GAClCsB,EAAUV,EAAO,CACjBS,GAAc,IAChBH,EAAM9D,MACJ,EACA4D,EAAaM,EACb1B,EAAYI,EACZgB,EAAaK,IAEfC,GAAWD,EAEb,IAAME,GAAcH,EAAOpB,CAC3BkB,GAAM9D,MACJ,EACA4D,EAAaM,EACb1B,EAAY2B,EACZP,IAGJ,OAAQ7D,QAAOwD,OAAMC,OAAMH,MAAKS,UL0WjClC,EAAY9D,UKvWbiF,OLuWgC,WKtW9BrF,KAAK0G,OAAO,EAAG1G,KAAKiB,QAClBoB,SACAwD,QACAF,OACAG,UAEF9F,KAAK6E,WAAa,GL0WZX,GACPN,EKvesCa,OLyexC5H,cKzeoBqH","file":"worker.4adefa.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"dist/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _types = __webpack_require__(1);\n\t\n\tvar _Regexp = __webpack_require__(2);\n\t\n\tvar _Regexp2 = _interopRequireDefault(_Regexp);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar regexp = new _Regexp2.default({});\n\t\n\t/* eslint-disable no-undef */\n\tonmessage = function onmessage(event) {\n\t  var _event$data = event.data;\n\t  var method = _event$data[0];\n\t  var data = _event$data[1];\n\t\n\t  switch (method) {\n\t    case _types.PARSE:\n\t      var result = regexp.parse(data);\n\t      var error = result.error;\n\t\n\t      if (error) {\n\t        postMessage([_types.ERROR, error]);\n\t      } else {\n\t        postMessage([_types.PARSE, result]);\n\t      }\n\t      break;\n\t    case _types.RESIZE:\n\t      regexp.resize(data);\n\t      break;\n\t  }\n\t};\n\t\n\tpostMessage([_types.READY]);\n\t/* eslint-enable no-undef */\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\tvar MODE_NONE = exports.MODE_NONE = null;\n\tvar MODE_LIST = exports.MODE_LIST = 'l';\n\tvar MODE_REPLACE = exports.MODE_REPLACE = 'r';\n\t\n\tvar PARSE = exports.PARSE = 'P';\n\tvar RESIZE = exports.RESIZE = 'S';\n\tvar ERROR = exports.ERROR = 'E';\n\tvar READY = exports.READY = 'R';\n\t\n\tvar BOX_NONE = exports.BOX_NONE = null;\n\tvar BOX_NAV = exports.BOX_NAV = 'N';\n\tvar BOX_FLAGS = exports.BOX_FLAGS = 'F';\n\tvar BOX_MODES = exports.BOX_MODES = 'M';\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tvar _types = __webpack_require__(1);\n\t\n\tvar _Coordinates = __webpack_require__(3);\n\t\n\tvar _Coordinates2 = _interopRequireDefault(_Coordinates);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction escapeLinebreak(str) {\n\t  return str.replace(LINEBREAK_RE, LINEBREAK);\n\t}\n\tvar LINEBREAK_RE = /\\\\n/g;\n\tvar LINEBREAK = '\\n';\n\t\n\tvar SPECIAL_SEPARATOR_RE = /\\$[&0-9]/g;\n\t\n\tvar Regexp = function () {\n\t  function Regexp(params) {\n\t    _classCallCheck(this, Regexp);\n\t\n\t    this.coordinates = new _Coordinates2.default(params);\n\t    this._lastParams = null;\n\t    this._lastExec = null;\n\t  }\n\t\n\t  Regexp.prototype.resize = function resize(params) {\n\t    this.coordinates.resize(params);\n\t  };\n\t\n\t  Regexp.prototype.parse = function parse(params) {\n\t    var result = {\n\t      matches: [],\n\t      output: '',\n\t      error: null\n\t    };\n\t    var source = params.source;\n\t    var flags = params.flags;\n\t\n\t    if (!source) return result;\n\t    var regexp = null;\n\t    try {\n\t      regexp = new RegExp(source, flags);\n\t    } catch (error) {\n\t      if (false) {\n\t        console.warn(error);\n\t      }\n\t      result.error = error.message;\n\t      return result;\n\t    }\n\t    if (!regexp) return result;\n\t    var input = params.input;\n\t\n\t    if (!input) return result;\n\t    var mode = params.mode;\n\t\n\t    if (!mode) {\n\t      var _exec2 = this._exec(regexp, input);\n\t\n\t      var matches = _exec2.matches;\n\t\n\t      result.matches = matches;\n\t      return result;\n\t    }\n\t    var resolve = escapeLinebreak(params.resolve || '');\n\t    if (mode === _types.MODE_LIST) {\n\t      var m = resolve.match(SPECIAL_SEPARATOR_RE);\n\t      if (!m || m.length < 1) {\n\t        // list with join\n\t        var _execAndJoinList2 = this._execAndJoinList(regexp, input, resolve);\n\t\n\t        var _matches2 = _execAndJoinList2.matches;\n\t        var _output2 = _execAndJoinList2.output;\n\t\n\t        result.matches = _matches2;\n\t        result.output = _output2;\n\t        return result;\n\t      }\n\t      var resolvers = [];\n\t      for (var i = 0, l = m.length, o, p, q; i < l; i++) {\n\t        o = m[i];\n\t        p = o.substr(1, 1);\n\t        q = p === '&' ? 0 : Number(p);\n\t        resolvers[q] = o;\n\t      }\n\t      // list with replace\n\t\n\t      var _execAndReplaceList2 = this._execAndReplaceList(regexp, input, resolve, resolvers);\n\t\n\t      var _matches = _execAndReplaceList2.matches;\n\t      var output = _execAndReplaceList2.output;\n\t\n\t      result.matches = _matches;\n\t      result.output = output;\n\t      return result;\n\t    } else {\n\t      // replace\n\t      var _execAndReplace2 = this._execAndReplace(regexp, input, resolve);\n\t\n\t      var _matches3 = _execAndReplace2.matches;\n\t      var _output3 = _execAndReplace2.output;\n\t\n\t      result.matches = _matches3;\n\t      result.output = _output3;\n\t      return result;\n\t    }\n\t  };\n\t\n\t  Regexp.prototype._exec = function _exec(regexp, input) {\n\t    this.coordinates.hold(input);\n\t    var matches = [];\n\t    if (regexp.global) {\n\t      var match = void 0,\n\t          point = void 0,\n\t          value = void 0;\n\t      while (true) {\n\t        match = regexp.exec(input);\n\t        value = match && match[0];\n\t        if (!value) break;\n\t        point = this.coordinates.compute(match.index, value.length);\n\t        matches.push(Object.assign({\n\t          value: value,\n\t          subs: match.slice(1)\n\t        }, point));\n\t      }\n\t    } else {\n\t      var _match = regexp.exec(input);\n\t      var _value = _match && _match[0];\n\t      if (_value) {\n\t        var _point = this.coordinates.compute(_match.index, _value.length);\n\t        matches.push(Object.assign({\n\t          value: _value,\n\t          subs: _match.slice(1)\n\t        }, _point));\n\t      }\n\t    }\n\t    return { matches: matches };\n\t  };\n\t\n\t  Regexp.prototype._execAndJoinList = function _execAndJoinList(regexp, input, resolve) {\n\t    this.coordinates.hold(input);\n\t    var matches = [];\n\t    var output = '';\n\t    var match = void 0,\n\t        point = void 0,\n\t        value = void 0;\n\t    while (true) {\n\t      match = regexp.exec(input);\n\t      value = match && match[0];\n\t      if (!value) break;\n\t      point = this.coordinates.compute(match.index, value.length);\n\t      matches.push(Object.assign({\n\t        value: value,\n\t        subs: match.slice(1)\n\t      }, point));\n\t      output += value + resolve;\n\t    }\n\t    return { matches: matches, output: output };\n\t  };\n\t\n\t  Regexp.prototype._execAndReplaceList = function _execAndReplaceList(regexp, input, resolve, resolvers) {\n\t    this.coordinates.hold(input);\n\t    var matches = [];\n\t    var output = '';\n\t    var match = void 0,\n\t        point = void 0,\n\t        value = void 0,\n\t        _output = void 0;\n\t    while (true) {\n\t      match = regexp.exec(input);\n\t      if (!match || !match[0]) break;\n\t      value = match[0];\n\t      point = this.coordinates.compute(match.index, value.length);\n\t      matches.push(Object.assign({\n\t        value: value,\n\t        subs: match.slice(1)\n\t      }, point));\n\t      _output = resolve;\n\t      resolvers.forEach(function (resolver, index) {\n\t        if (match[index] !== undefined) {\n\t          _output = _output.replace(resolver, match[index]);\n\t        }\n\t      });\n\t      output += _output;\n\t    }\n\t    return { matches: matches, output: output };\n\t  };\n\t\n\t  Regexp.prototype._execAndReplace = function _execAndReplace(regexp, input, resolve) {\n\t    this.coordinates.hold(input);\n\t    var matches = [];\n\t    var match = void 0,\n\t        point = void 0,\n\t        value = void 0;\n\t    while (true) {\n\t      match = regexp.exec(input);\n\t      value = match && match[0];\n\t      if (!value) break;\n\t      point = this.coordinates.compute(match.index, value.length);\n\t      matches.push(Object.assign({\n\t        value: value,\n\t        subs: match.slice(1)\n\t      }, point));\n\t    }\n\t    var output = input.replace(regexp, resolve);\n\t    return { matches: matches, output: output };\n\t  };\n\t\n\t  return Regexp;\n\t}();\n\t\n\texports.default = Regexp;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\texports.__esModule = true;\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tfunction _extendableBuiltin(cls) {\n\t  function ExtendableBuiltin() {\n\t    cls.apply(this, arguments);\n\t  }\n\t\n\t  ExtendableBuiltin.prototype = Object.create(cls.prototype, {\n\t    constructor: {\n\t      value: cls,\n\t      enumerable: false,\n\t      writable: true,\n\t      configurable: true\n\t    }\n\t  });\n\t\n\t  if (Object.setPrototypeOf) {\n\t    Object.setPrototypeOf(ExtendableBuiltin, cls);\n\t  } else {\n\t    ExtendableBuiltin.__proto__ = cls;\n\t  }\n\t\n\t  return ExtendableBuiltin;\n\t}\n\t\n\tvar LINE_BREAK_RE = /\\n/g;\n\t\n\tvar Coordinates = function (_extendableBuiltin2) {\n\t  _inherits(Coordinates, _extendableBuiltin2);\n\t\n\t  function Coordinates() {\n\t    var _temp, _this, _ret;\n\t\n\t    _classCallCheck(this, Coordinates);\n\t\n\t    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t      args[_key] = arguments[_key];\n\t    }\n\t\n\t    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _extendableBuiltin2.call.apply(_extendableBuiltin2, [this].concat(args))), _this), _this.options = {}, _this._paraIndex = 0, _temp), _possibleConstructorReturn(_this, _ret);\n\t  }\n\t\n\t  Coordinates.prototype.resize = function resize(options) {\n\t    var charWidth = options.charWidth;\n\t    var paddingLeft = options.paddingLeft;\n\t    var paddingRight = options.paddingRight;\n\t    var canvasWidth = options.canvasWidth;\n\t\n\t    options.charsPeerLine = Math.floor((canvasWidth - paddingLeft - paddingRight) / charWidth);\n\t    this.options = options;\n\t  };\n\t\n\t  Coordinates.prototype.hold = function hold(input) {\n\t    this._clear();\n\t    if (input) {\n\t      var charsPeerLine = this.options.charsPeerLine;\n\t      var selfParas = 1;\n\t      var lastPoint = this[0];\n\t      var res = void 0,\n\t          index = void 0,\n\t          distance = void 0,\n\t          selfLines = void 0,\n\t          col = void 0;\n\t      while (true) {\n\t        res = LINE_BREAK_RE.exec(input);\n\t        if (!res) break;\n\t        index = res.index;\n\t        distance = index - lastPoint.index;\n\t        if (distance <= 1) {\n\t          selfLines = 1;\n\t          col = 0;\n\t        } else {\n\t          selfLines = Math.ceil((distance - 1) / charsPeerLine);\n\t          col = (distance - 1) % charsPeerLine;\n\t          if (col === 0) {\n\t            col = charsPeerLine;\n\t          }\n\t        }\n\t        lastPoint = {\n\t          index: index,\n\t          para: lastPoint.para + selfParas,\n\t          line: lastPoint.line + selfLines,\n\t          col: col\n\t        };\n\t        this.push(lastPoint);\n\t      }\n\t    }\n\t  };\n\t\n\t  /**\n\t   * @param {Number} index\n\t   * @param {Number} length\n\t   * @returns {Point}\n\t   */\n\t\n\t  Coordinates.prototype.compute = function compute(index, length) {\n\t    var lastIndex = this.length - 1;\n\t    var next = void 0;\n\t    while (this._paraIndex < lastIndex) {\n\t      // floor\n\t      next = this[this._paraIndex + 1];\n\t      if (next.index > index) {\n\t        break;\n\t      }\n\t      this._paraIndex++;\n\t    }\n\t\n\t    var _options = this.options;\n\t    var charWidth = _options.charWidth;\n\t    var charHeight = _options.charHeight;\n\t    var charsPeerLine = _options.charsPeerLine;\n\t\n\t\n\t    var current = this[this._paraIndex];\n\t    var distance = index - current.index;\n\t    var selfLines = Math.ceil(distance / charsPeerLine);\n\t    var col = distance % charsPeerLine;\n\t    col = (col === 0 ? charsPeerLine : col) - 1;\n\t    var para = current.para + 1;\n\t    var line = current.line + selfLines;\n\t    var xywhs = void 0;\n\t    if (col + length < charsPeerLine) {\n\t      xywhs = [[charWidth * col, charHeight * line, charWidth * length, charHeight]];\n\t    } else {\n\t      var beforeLength = charsPeerLine - col;\n\t      xywhs = [[charWidth * col, charHeight * line, charWidth * beforeLength, charHeight]];\n\t      var left = length - beforeLength;\n\t      var middleLines = Math.floor(left / charsPeerLine);\n\t      var newLine = line + 1;\n\t      if (middleLines > 0) {\n\t        xywhs.push([0, charHeight * newLine, charWidth * charsPeerLine, charHeight * middleLines]);\n\t        newLine += middleLines;\n\t      }\n\t      var afterLength = left % charsPeerLine;\n\t      xywhs.push([0, charHeight * newLine, charWidth * afterLength, charHeight]);\n\t    }\n\t    return { index: index, para: para, line: line, col: col, xywhs: xywhs };\n\t  };\n\t\n\t  Coordinates.prototype._clear = function _clear() {\n\t    this.splice(0, this.length, {\n\t      index: -1,\n\t      para: -1,\n\t      col: -1,\n\t      line: -1\n\t    });\n\t    this._paraIndex = 0;\n\t  };\n\t\n\t  return Coordinates;\n\t}(_extendableBuiltin(Array));\n\t\n\texports.default = Coordinates;\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** worker.4adefa.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap c3eed6adea46984cf536\n **/","import {PARSE, RESIZE, ERROR, READY} from '../types'\nimport Regexp from './Regexp'\n\nconst regexp = new Regexp({})\n\n/* eslint-disable no-undef */\nonmessage = function (event) {\n  const [method, data] = event.data\n  switch (method) {\n    case PARSE:\n      const result = regexp.parse(data)\n      const {error} = result\n      if (error) {\n        postMessage([ERROR, error])\n      } else {\n        postMessage([PARSE, result])\n      }\n      break\n    case RESIZE:\n      regexp.resize(data)\n      break\n  }\n}\n\npostMessage([READY])\n/* eslint-enable no-undef */\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/worker/index.js\n **/","export const MODE_NONE = null\nexport const MODE_LIST = 'l'\nexport const MODE_REPLACE = 'r'\n\nexport const PARSE = 'P'\nexport const RESIZE = 'S'\nexport const ERROR = 'E'\nexport const READY = 'R'\n\nexport const BOX_NONE = null\nexport const BOX_NAV = 'N'\nexport const BOX_FLAGS = 'F'\nexport const BOX_MODES = 'M'\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/types.js\n **/","import {MODE_LIST} from '../types'\nimport Coordinates from './Coordinates'\n\nfunction escapeLinebreak (str) {\n  return str.replace(LINEBREAK_RE, LINEBREAK)\n}\nconst LINEBREAK_RE = /\\\\n/g\nconst LINEBREAK = '\\n'\n\nconst SPECIAL_SEPARATOR_RE = /\\$[&0-9]/g\n\nexport default class Regexp {\n  constructor (params) {\n    this.coordinates = new Coordinates(params)\n    this._lastParams = null\n    this._lastExec = null\n  }\n\n  resize (params) {\n    this.coordinates.resize(params)\n  }\n\n  parse (params) {\n    const result = {\n      matches: [],\n      output: '',\n      error: null,\n    }\n    let {source, flags} = params\n    if (!source) return result\n    let regexp = null\n    try {\n      regexp = new RegExp(source, flags)\n    } catch (error) {\n      if (process.env.NODE_ENV === 'development') {\n        console.warn(error)\n      }\n      result.error = error.message\n      return result\n    }\n    if (!regexp) return result\n    let {input} = params\n    if (!input) return result\n    const {mode} = params\n    if (!mode) {\n      const {matches} = this._exec(regexp, input)\n      result.matches = matches\n      return result\n    }\n    const resolve = escapeLinebreak(params.resolve || '')\n    if (mode === MODE_LIST) {\n      const m = resolve.match(SPECIAL_SEPARATOR_RE)\n      if (!m || m.length < 1) {\n        // list with join\n        const {matches, output} = this._execAndJoinList(regexp, input, resolve)\n        result.matches = matches\n        result.output = output\n        return result\n      }\n      const resolvers = []\n      for (let i = 0, l = m.length, o, p, q; i < l; i++) {\n        o = m[i]\n        p = o.substr(1, 1)\n        q = p === '&' ? 0 : Number(p)\n        resolvers[q] = o\n      }\n      // list with replace\n      const {matches, output} = this._execAndReplaceList(regexp, input, resolve, resolvers)\n      result.matches = matches\n      result.output = output\n      return result\n    } else {\n      // replace\n      const {matches, output} = this._execAndReplace(regexp, input, resolve)\n      result.matches = matches\n      result.output = output\n      return result\n    }\n  }\n\n  _exec (regexp, input) {\n    this.coordinates.hold(input)\n    const matches = []\n    if (regexp.global) {\n      let match, point, value\n      while (true) {\n        match = regexp.exec(input)\n        value = match && match[0]\n        if (!value) break\n        point = this.coordinates.compute(match.index, value.length)\n        matches.push(\n          Object.assign({\n            value,\n            subs: match.slice(1),\n          }, point)\n        )\n      }\n    } else {\n      const match = regexp.exec(input)\n      const value = match && match[0]\n      if (value) {\n        const point = this.coordinates.compute(match.index, value.length)\n        matches.push(\n          Object.assign({\n            value,\n            subs: match.slice(1),\n          }, point)\n        )\n      }\n    }\n    return {matches}\n  }\n\n  _execAndJoinList (regexp, input, resolve) {\n    this.coordinates.hold(input)\n    const matches = []\n    let output = ''\n    let match, point, value\n    while (true) {\n      match = regexp.exec(input)\n      value = match && match[0]\n      if (!value) break\n      point = this.coordinates.compute(match.index, value.length)\n      matches.push(\n        Object.assign({\n          value,\n          subs: match.slice(1),\n        }, point)\n      )\n      output += value + resolve\n    }\n    return {matches, output}\n  }\n\n  _execAndReplaceList (regexp, input, resolve, resolvers) {\n    this.coordinates.hold(input)\n    const matches = []\n    let output = ''\n    let match, point, value, _output\n    while (true) {\n      match = regexp.exec(input)\n      if (!match || !match[0]) break\n      value = match[0]\n      point = this.coordinates.compute(match.index, value.length)\n      matches.push(\n        Object.assign({\n          value,\n          subs: match.slice(1),\n        }, point)\n      )\n      _output = resolve\n      resolvers.forEach((resolver, index) => {\n        if (match[index] !== undefined) {\n          _output = _output.replace(resolver, match[index])\n        }\n      })\n      output += _output\n    }\n    return {matches, output}\n  }\n\n  _execAndReplace (regexp, input, resolve) {\n    this.coordinates.hold(input)\n    const matches = []\n    let match, point, value\n    while (true) {\n      match = regexp.exec(input)\n      value = match && match[0]\n      if (!value) break\n      point = this.coordinates.compute(match.index, value.length)\n      matches.push(\n        Object.assign({\n          value,\n          subs: match.slice(1),\n        }, point)\n      )\n    }\n    const output = input.replace(regexp, resolve)\n    return {matches, output}\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/worker/Regexp.js\n **/","const LINE_BREAK_RE = /\\n/g\n\nexport default class Coordinates extends Array {\n\n  options = {}\n\n  resize (options) {\n    const {\n      charWidth,\n      paddingLeft,\n      paddingRight,\n      canvasWidth,\n    } = options\n    options.charsPeerLine = Math.floor(\n      (canvasWidth - paddingLeft - paddingRight) / charWidth\n    )\n    this.options = options\n  }\n\n  hold (input) {\n    this._clear()\n    if (input) {\n      const charsPeerLine = this.options.charsPeerLine\n      const selfParas = 1\n      let lastPoint = this[0]\n      let res, index, distance, selfLines, col\n      while (true) {\n        res = LINE_BREAK_RE.exec(input)\n        if (!res) break\n        index = res.index\n        distance = index - lastPoint.index\n        if (distance <= 1) {\n          selfLines = 1\n          col = 0\n        } else {\n          selfLines = Math.ceil((distance - 1) / charsPeerLine)\n          col = (distance - 1) % charsPeerLine\n          if (col === 0) {\n            col = charsPeerLine\n          }\n        }\n        lastPoint = {\n          index,\n          para: lastPoint.para + selfParas,\n          line: lastPoint.line + selfLines,\n          col,\n        }\n        this.push(lastPoint)\n      }\n    }\n  }\n\n  _paraIndex = 0\n\n  /**\n   * @param {Number} index\n   * @param {Number} length\n   * @returns {Point}\n   */\n\n  compute (index, length) {\n    const lastIndex = this.length - 1\n    let next\n    while (this._paraIndex < lastIndex) { // floor\n      next = this[this._paraIndex + 1]\n      if (next.index > index) {\n        break\n      }\n      this._paraIndex++\n    }\n\n    const {charWidth, charHeight, charsPeerLine} = this.options\n\n    const current = this[this._paraIndex]\n    const distance = index - current.index\n    const selfLines = Math.ceil(distance / charsPeerLine)\n    let col = distance % charsPeerLine\n    col = (col === 0 ? charsPeerLine : col) - 1\n    const para = current.para + 1\n    const line = current.line + selfLines\n    let xywhs\n    if (col + length < charsPeerLine) {\n      xywhs = [[\n        charWidth * col,\n        charHeight * line,\n        charWidth * length,\n        charHeight,\n      ]]\n    } else {\n      const beforeLength = charsPeerLine - col\n      xywhs = [[\n        charWidth * col,\n        charHeight * line,\n        charWidth * beforeLength,\n        charHeight,\n      ]]\n      const left = length - beforeLength\n      const middleLines = Math.floor(left / charsPeerLine)\n      let newLine = line + 1\n      if (middleLines > 0) {\n        xywhs.push([\n          0,\n          charHeight * newLine,\n          charWidth * charsPeerLine,\n          charHeight * middleLines,\n        ])\n        newLine += middleLines\n      }\n      const afterLength = left % charsPeerLine\n      xywhs.push([\n        0,\n        charHeight * newLine,\n        charWidth * afterLength,\n        charHeight,\n      ])\n    }\n    return {index, para, line, col, xywhs}\n  }\n\n  _clear () {\n    this.splice(0, this.length, {\n      index: -1,\n      para: -1,\n      col: -1,\n      line: -1,\n    })\n    this._paraIndex = 0\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/worker/Coordinates.js\n **/"],"sourceRoot":""}