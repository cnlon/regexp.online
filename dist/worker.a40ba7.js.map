{"version":3,"sources":["webpack:///worker.a40ba7.js","webpack:///webpack/bootstrap 5271a358cbbb92e8c0f4","webpack:///./src/types.js","webpack:///./src/worker/index.js","webpack:///./src/worker/Regexp.js","webpack:///./src/worker/Coordinates.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","MODE_NONE","MODE_LIST","MODE_REPLACE","PARSE","RESIZE","ERROR","READY","BOX_NONE","BOX_NAV","BOX_FLAGS","BOX_MODES","_types","_Regexp","_Regexp2","obj","default","regexp","onmessage","event","_event$data","data","method","result","parse","error","postMessage","resize","_classCallCheck","instance","Constructor","TypeError","escapeLinebreak","str","replace","LINEBREAK_RE","LINEBREAK","_Coordinates","_Coordinates2","SPECIAL_SEPARATOR_RE","Regexp","params","this","coordinates","_lastParams","_lastExec","matches","output","source","flags","RegExp","message","input","mode","_exec2","_exec","resolve","match","length","_execAndJoinList2","_execAndJoinList","q","resolvers","substr","Number","_execAndReplaceList2","_execAndReplaceList","_execAndReplace2","_execAndReplace","hold","global","point","value","exec","compute","index","push","assign","subs","slice","_output","forEach","resolver","undefined","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","writable","setPrototypeOf","__proto__","LINE_BREAK_RE","Coordinates","_extendableBuiltin2","_temp","_this","_ret","_len","arguments","args","Array","_key","apply","concat","options","_paraIndex","charWidth","paddingLeft","paddingRight","canvasWidth","charsPeerLine","Math","floor","_clear","lastPoint","res","distance","selfLines","col","ceil","para","line","lastIndex","next","_options","charHeight","current","xywhs","beforeLength","left","middleLines","newLine","afterLength","splice","cls","ExtendableBuiltin"],"mappings":"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","file":"worker.a40ba7.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 1);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\nvar MODE_NONE = exports.MODE_NONE = null;\nvar MODE_LIST = exports.MODE_LIST = 'l';\nvar MODE_REPLACE = exports.MODE_REPLACE = 'r';\n\nvar PARSE = exports.PARSE = 'P';\nvar RESIZE = exports.RESIZE = 'S';\nvar ERROR = exports.ERROR = 'E';\nvar READY = exports.READY = 'R';\n\nvar BOX_NONE = exports.BOX_NONE = null;\nvar BOX_NAV = exports.BOX_NAV = 'N';\nvar BOX_FLAGS = exports.BOX_FLAGS = 'F';\nvar BOX_MODES = exports.BOX_MODES = 'M';\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _types = __webpack_require__(0);\n\nvar _Regexp = __webpack_require__(2);\n\nvar _Regexp2 = _interopRequireDefault(_Regexp);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar regexp = new _Regexp2.default({});\n\n/* eslint-disable no-undef */\nonmessage = function onmessage(event) {\n  var _event$data = event.data,\n      method = _event$data[0],\n      data = _event$data[1];\n\n  switch (method) {\n    case _types.PARSE:\n      var result = regexp.parse(data);\n      var error = result.error;\n\n      if (error) {\n        postMessage([_types.ERROR, error]);\n      } else {\n        postMessage([_types.PARSE, result]);\n      }\n      break;\n    case _types.RESIZE:\n      regexp.resize(data);\n      break;\n  }\n};\n\npostMessage([_types.READY]);\n/* eslint-enable no-undef */\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\n\nvar _types = __webpack_require__(0);\n\nvar _Coordinates = __webpack_require__(3);\n\nvar _Coordinates2 = _interopRequireDefault(_Coordinates);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction escapeLinebreak(str) {\n  return str.replace(LINEBREAK_RE, LINEBREAK);\n}\nvar LINEBREAK_RE = /\\\\n/g;\nvar LINEBREAK = '\\n';\n\nvar SPECIAL_SEPARATOR_RE = /\\$[&0-9]/g;\n\nvar Regexp = function () {\n  function Regexp(params) {\n    _classCallCheck(this, Regexp);\n\n    this.coordinates = new _Coordinates2.default(params);\n    this._lastParams = null;\n    this._lastExec = null;\n  }\n\n  Regexp.prototype.resize = function resize(params) {\n    this.coordinates.resize(params);\n  };\n\n  Regexp.prototype.parse = function parse(params) {\n    var result = {\n      matches: [],\n      output: '',\n      error: null\n    };\n    var source = params.source,\n        flags = params.flags;\n\n    if (!source) return result;\n    var regexp = null;\n    try {\n      regexp = new RegExp(source, flags);\n    } catch (error) {\n      if (false) {\n        console.warn(error);\n      }\n      result.error = error.message;\n      return result;\n    }\n    if (!regexp) return result;\n    var input = params.input;\n\n    if (!input) return result;\n    var mode = params.mode;\n\n    if (!mode) {\n      var _exec2 = this._exec(regexp, input),\n          matches = _exec2.matches;\n\n      result.matches = matches;\n      return result;\n    }\n    var resolve = escapeLinebreak(params.resolve || '');\n    if (mode === _types.MODE_LIST) {\n      var m = resolve.match(SPECIAL_SEPARATOR_RE);\n      if (!m || m.length < 1) {\n        // list with join\n        var _execAndJoinList2 = this._execAndJoinList(regexp, input, resolve),\n            _matches2 = _execAndJoinList2.matches,\n            _output2 = _execAndJoinList2.output;\n\n        result.matches = _matches2;\n        result.output = _output2;\n        return result;\n      }\n      var resolvers = [];\n      for (var i = 0, l = m.length, o, p, q; i < l; i++) {\n        o = m[i];\n        p = o.substr(1, 1);\n        q = p === '&' ? 0 : Number(p);\n        resolvers[q] = o;\n      }\n      // list with replace\n\n      var _execAndReplaceList2 = this._execAndReplaceList(regexp, input, resolve, resolvers),\n          _matches = _execAndReplaceList2.matches,\n          output = _execAndReplaceList2.output;\n\n      result.matches = _matches;\n      result.output = output;\n      return result;\n    } else {\n      // replace\n      var _execAndReplace2 = this._execAndReplace(regexp, input, resolve),\n          _matches3 = _execAndReplace2.matches,\n          _output3 = _execAndReplace2.output;\n\n      result.matches = _matches3;\n      result.output = _output3;\n      return result;\n    }\n  };\n\n  Regexp.prototype._exec = function _exec(regexp, input) {\n    this.coordinates.hold(input);\n    var matches = [];\n    if (regexp.global) {\n      var match = void 0,\n          point = void 0,\n          value = void 0;\n      while (true) {\n        match = regexp.exec(input);\n        value = match && match[0];\n        if (!value) break;\n        point = this.coordinates.compute(match.index, value.length);\n        matches.push(Object.assign({\n          value: value,\n          subs: match.slice(1)\n        }, point));\n      }\n    } else {\n      var _match = regexp.exec(input);\n      var _value = _match && _match[0];\n      if (_value) {\n        var _point = this.coordinates.compute(_match.index, _value.length);\n        matches.push(Object.assign({\n          value: _value,\n          subs: _match.slice(1)\n        }, _point));\n      }\n    }\n    return { matches: matches };\n  };\n\n  Regexp.prototype._execAndJoinList = function _execAndJoinList(regexp, input, resolve) {\n    this.coordinates.hold(input);\n    var matches = [];\n    var output = '';\n    var match = void 0,\n        point = void 0,\n        value = void 0;\n    while (true) {\n      match = regexp.exec(input);\n      value = match && match[0];\n      if (!value) break;\n      point = this.coordinates.compute(match.index, value.length);\n      matches.push(Object.assign({\n        value: value,\n        subs: match.slice(1)\n      }, point));\n      output += value + resolve;\n    }\n    return { matches: matches, output: output };\n  };\n\n  Regexp.prototype._execAndReplaceList = function _execAndReplaceList(regexp, input, resolve, resolvers) {\n    this.coordinates.hold(input);\n    var matches = [];\n    var output = '';\n    var match = void 0,\n        point = void 0,\n        value = void 0,\n        _output = void 0;\n    while (true) {\n      match = regexp.exec(input);\n      if (!match || !match[0]) break;\n      value = match[0];\n      point = this.coordinates.compute(match.index, value.length);\n      matches.push(Object.assign({\n        value: value,\n        subs: match.slice(1)\n      }, point));\n      _output = resolve;\n      resolvers.forEach(function (resolver, index) {\n        if (match[index] !== undefined) {\n          _output = _output.replace(resolver, match[index]);\n        }\n      });\n      output += _output;\n    }\n    return { matches: matches, output: output };\n  };\n\n  Regexp.prototype._execAndReplace = function _execAndReplace(regexp, input, resolve) {\n    this.coordinates.hold(input);\n    var matches = [];\n    var match = void 0,\n        point = void 0,\n        value = void 0;\n    while (true) {\n      match = regexp.exec(input);\n      value = match && match[0];\n      if (!value) break;\n      point = this.coordinates.compute(match.index, value.length);\n      matches.push(Object.assign({\n        value: value,\n        subs: match.slice(1)\n      }, point));\n    }\n    var output = input.replace(regexp, resolve);\n    return { matches: matches, output: output };\n  };\n\n  return Regexp;\n}();\n\nexports.default = Regexp;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _extendableBuiltin(cls) {\n  function ExtendableBuiltin() {\n    cls.apply(this, arguments);\n  }\n\n  ExtendableBuiltin.prototype = Object.create(cls.prototype, {\n    constructor: {\n      value: cls,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n\n  if (Object.setPrototypeOf) {\n    Object.setPrototypeOf(ExtendableBuiltin, cls);\n  } else {\n    ExtendableBuiltin.__proto__ = cls;\n  }\n\n  return ExtendableBuiltin;\n}\n\nvar LINE_BREAK_RE = /\\n/g;\n\nvar Coordinates = function (_extendableBuiltin2) {\n  _inherits(Coordinates, _extendableBuiltin2);\n\n  function Coordinates() {\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Coordinates);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _extendableBuiltin2.call.apply(_extendableBuiltin2, [this].concat(args))), _this), _this.options = {}, _this._paraIndex = 0, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  Coordinates.prototype.resize = function resize(options) {\n    var charWidth = options.charWidth,\n        paddingLeft = options.paddingLeft,\n        paddingRight = options.paddingRight,\n        canvasWidth = options.canvasWidth;\n\n    options.charsPeerLine = Math.floor((canvasWidth - paddingLeft - paddingRight) / charWidth);\n    this.options = options;\n  };\n\n  Coordinates.prototype.hold = function hold(input) {\n    this._clear();\n    if (input) {\n      var charsPeerLine = this.options.charsPeerLine;\n      var selfParas = 1;\n      var lastPoint = this[0];\n      var res = void 0,\n          index = void 0,\n          distance = void 0,\n          selfLines = void 0,\n          col = void 0;\n      while (true) {\n        res = LINE_BREAK_RE.exec(input);\n        if (!res) break;\n        index = res.index;\n        distance = index - lastPoint.index;\n        if (distance <= 1) {\n          selfLines = 1;\n          col = 0;\n        } else {\n          selfLines = Math.ceil((distance - 1) / charsPeerLine);\n          col = (distance - 1) % charsPeerLine;\n          if (col === 0) {\n            col = charsPeerLine;\n          }\n        }\n        lastPoint = {\n          index: index,\n          para: lastPoint.para + selfParas,\n          line: lastPoint.line + selfLines,\n          col: col\n        };\n        this.push(lastPoint);\n      }\n    }\n  };\n\n  /**\n   * @param {Number} index\n   * @param {Number} length\n   * @returns {Point}\n   */\n\n  Coordinates.prototype.compute = function compute(index, length) {\n    var lastIndex = this.length - 1;\n    var next = void 0;\n    while (this._paraIndex < lastIndex) {\n      // floor\n      next = this[this._paraIndex + 1];\n      if (next.index > index) {\n        break;\n      }\n      this._paraIndex++;\n    }\n\n    var _options = this.options,\n        charWidth = _options.charWidth,\n        charHeight = _options.charHeight,\n        charsPeerLine = _options.charsPeerLine;\n\n\n    var current = this[this._paraIndex];\n    var distance = index - current.index;\n    var selfLines = Math.ceil(distance / charsPeerLine);\n    var col = distance % charsPeerLine;\n    col = (col === 0 ? charsPeerLine : col) - 1;\n    var para = current.para + 1;\n    var line = current.line + selfLines;\n    var xywhs = void 0;\n    if (col + length < charsPeerLine) {\n      xywhs = [[charWidth * col, charHeight * line, charWidth * length, charHeight]];\n    } else {\n      var beforeLength = charsPeerLine - col;\n      xywhs = [[charWidth * col, charHeight * line, charWidth * beforeLength, charHeight]];\n      var left = length - beforeLength;\n      var middleLines = Math.floor(left / charsPeerLine);\n      var newLine = line + 1;\n      if (middleLines > 0) {\n        xywhs.push([0, charHeight * newLine, charWidth * charsPeerLine, charHeight * middleLines]);\n        newLine += middleLines;\n      }\n      var afterLength = left % charsPeerLine;\n      xywhs.push([0, charHeight * newLine, charWidth * afterLength, charHeight]);\n    }\n    return { index: index, para: para, line: line, col: col, xywhs: xywhs };\n  };\n\n  Coordinates.prototype._clear = function _clear() {\n    this.splice(0, this.length, {\n      index: -1,\n      para: -1,\n      col: -1,\n      line: -1\n    });\n    this._paraIndex = 0;\n  };\n\n  return Coordinates;\n}(_extendableBuiltin(Array));\n\nexports.default = Coordinates;\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// worker.a40ba7.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 5271a358cbbb92e8c0f4","export const MODE_NONE = null\nexport const MODE_LIST = 'l'\nexport const MODE_REPLACE = 'r'\n\nexport const PARSE = 'P'\nexport const RESIZE = 'S'\nexport const ERROR = 'E'\nexport const READY = 'R'\n\nexport const BOX_NONE = null\nexport const BOX_NAV = 'N'\nexport const BOX_FLAGS = 'F'\nexport const BOX_MODES = 'M'\n\n\n\n// WEBPACK FOOTER //\n// ./src/types.js","import {PARSE, RESIZE, ERROR, READY} from '../types'\nimport Regexp from './Regexp'\n\nconst regexp = new Regexp({})\n\n/* eslint-disable no-undef */\nonmessage = function (event) {\n  const [method, data] = event.data\n  switch (method) {\n    case PARSE:\n      const result = regexp.parse(data)\n      const {error} = result\n      if (error) {\n        postMessage([ERROR, error])\n      } else {\n        postMessage([PARSE, result])\n      }\n      break\n    case RESIZE:\n      regexp.resize(data)\n      break\n  }\n}\n\npostMessage([READY])\n/* eslint-enable no-undef */\n\n\n\n// WEBPACK FOOTER //\n// ./src/worker/index.js","import {MODE_LIST} from '../types'\nimport Coordinates from './Coordinates'\n\nfunction escapeLinebreak (str) {\n  return str.replace(LINEBREAK_RE, LINEBREAK)\n}\nconst LINEBREAK_RE = /\\\\n/g\nconst LINEBREAK = '\\n'\n\nconst SPECIAL_SEPARATOR_RE = /\\$[&0-9]/g\n\nexport default class Regexp {\n  constructor (params) {\n    this.coordinates = new Coordinates(params)\n    this._lastParams = null\n    this._lastExec = null\n  }\n\n  resize (params) {\n    this.coordinates.resize(params)\n  }\n\n  parse (params) {\n    const result = {\n      matches: [],\n      output: '',\n      error: null,\n    }\n    let {source, flags} = params\n    if (!source) return result\n    let regexp = null\n    try {\n      regexp = new RegExp(source, flags)\n    } catch (error) {\n      if (process.env.NODE_ENV === 'development') {\n        console.warn(error)\n      }\n      result.error = error.message\n      return result\n    }\n    if (!regexp) return result\n    let {input} = params\n    if (!input) return result\n    const {mode} = params\n    if (!mode) {\n      const {matches} = this._exec(regexp, input)\n      result.matches = matches\n      return result\n    }\n    const resolve = escapeLinebreak(params.resolve || '')\n    if (mode === MODE_LIST) {\n      const m = resolve.match(SPECIAL_SEPARATOR_RE)\n      if (!m || m.length < 1) {\n        // list with join\n        const {matches, output} = this._execAndJoinList(regexp, input, resolve)\n        result.matches = matches\n        result.output = output\n        return result\n      }\n      const resolvers = []\n      for (let i = 0, l = m.length, o, p, q; i < l; i++) {\n        o = m[i]\n        p = o.substr(1, 1)\n        q = p === '&' ? 0 : Number(p)\n        resolvers[q] = o\n      }\n      // list with replace\n      const {matches, output} = this._execAndReplaceList(regexp, input, resolve, resolvers)\n      result.matches = matches\n      result.output = output\n      return result\n    } else {\n      // replace\n      const {matches, output} = this._execAndReplace(regexp, input, resolve)\n      result.matches = matches\n      result.output = output\n      return result\n    }\n  }\n\n  _exec (regexp, input) {\n    this.coordinates.hold(input)\n    const matches = []\n    if (regexp.global) {\n      let match, point, value\n      while (true) {\n        match = regexp.exec(input)\n        value = match && match[0]\n        if (!value) break\n        point = this.coordinates.compute(match.index, value.length)\n        matches.push(\n          Object.assign({\n            value,\n            subs: match.slice(1),\n          }, point)\n        )\n      }\n    } else {\n      const match = regexp.exec(input)\n      const value = match && match[0]\n      if (value) {\n        const point = this.coordinates.compute(match.index, value.length)\n        matches.push(\n          Object.assign({\n            value,\n            subs: match.slice(1),\n          }, point)\n        )\n      }\n    }\n    return {matches}\n  }\n\n  _execAndJoinList (regexp, input, resolve) {\n    this.coordinates.hold(input)\n    const matches = []\n    let output = ''\n    let match, point, value\n    while (true) {\n      match = regexp.exec(input)\n      value = match && match[0]\n      if (!value) break\n      point = this.coordinates.compute(match.index, value.length)\n      matches.push(\n        Object.assign({\n          value,\n          subs: match.slice(1),\n        }, point)\n      )\n      output += value + resolve\n    }\n    return {matches, output}\n  }\n\n  _execAndReplaceList (regexp, input, resolve, resolvers) {\n    this.coordinates.hold(input)\n    const matches = []\n    let output = ''\n    let match, point, value, _output\n    while (true) {\n      match = regexp.exec(input)\n      if (!match || !match[0]) break\n      value = match[0]\n      point = this.coordinates.compute(match.index, value.length)\n      matches.push(\n        Object.assign({\n          value,\n          subs: match.slice(1),\n        }, point)\n      )\n      _output = resolve\n      resolvers.forEach((resolver, index) => {\n        if (match[index] !== undefined) {\n          _output = _output.replace(resolver, match[index])\n        }\n      })\n      output += _output\n    }\n    return {matches, output}\n  }\n\n  _execAndReplace (regexp, input, resolve) {\n    this.coordinates.hold(input)\n    const matches = []\n    let match, point, value\n    while (true) {\n      match = regexp.exec(input)\n      value = match && match[0]\n      if (!value) break\n      point = this.coordinates.compute(match.index, value.length)\n      matches.push(\n        Object.assign({\n          value,\n          subs: match.slice(1),\n        }, point)\n      )\n    }\n    const output = input.replace(regexp, resolve)\n    return {matches, output}\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/worker/Regexp.js","const LINE_BREAK_RE = /\\n/g\n\nexport default class Coordinates extends Array {\n  options = {}\n\n  resize (options) {\n    const {\n      charWidth,\n      paddingLeft,\n      paddingRight,\n      canvasWidth,\n    } = options\n    options.charsPeerLine = Math.floor(\n      (canvasWidth - paddingLeft - paddingRight) / charWidth\n    )\n    this.options = options\n  }\n\n  hold (input) {\n    this._clear()\n    if (input) {\n      const charsPeerLine = this.options.charsPeerLine\n      const selfParas = 1\n      let lastPoint = this[0]\n      let res, index, distance, selfLines, col\n      while (true) {\n        res = LINE_BREAK_RE.exec(input)\n        if (!res) break\n        index = res.index\n        distance = index - lastPoint.index\n        if (distance <= 1) {\n          selfLines = 1\n          col = 0\n        } else {\n          selfLines = Math.ceil((distance - 1) / charsPeerLine)\n          col = (distance - 1) % charsPeerLine\n          if (col === 0) {\n            col = charsPeerLine\n          }\n        }\n        lastPoint = {\n          index,\n          para: lastPoint.para + selfParas,\n          line: lastPoint.line + selfLines,\n          col,\n        }\n        this.push(lastPoint)\n      }\n    }\n  }\n\n  _paraIndex = 0\n\n  /**\n   * @param {Number} index\n   * @param {Number} length\n   * @returns {Point}\n   */\n\n  compute (index, length) {\n    const lastIndex = this.length - 1\n    let next\n    while (this._paraIndex < lastIndex) { // floor\n      next = this[this._paraIndex + 1]\n      if (next.index > index) {\n        break\n      }\n      this._paraIndex++\n    }\n\n    const {charWidth, charHeight, charsPeerLine} = this.options\n\n    const current = this[this._paraIndex]\n    const distance = index - current.index\n    const selfLines = Math.ceil(distance / charsPeerLine)\n    let col = distance % charsPeerLine\n    col = (col === 0 ? charsPeerLine : col) - 1\n    const para = current.para + 1\n    const line = current.line + selfLines\n    let xywhs\n    if (col + length < charsPeerLine) {\n      xywhs = [[\n        charWidth * col,\n        charHeight * line,\n        charWidth * length,\n        charHeight,\n      ]]\n    } else {\n      const beforeLength = charsPeerLine - col\n      xywhs = [[\n        charWidth * col,\n        charHeight * line,\n        charWidth * beforeLength,\n        charHeight,\n      ]]\n      const left = length - beforeLength\n      const middleLines = Math.floor(left / charsPeerLine)\n      let newLine = line + 1\n      if (middleLines > 0) {\n        xywhs.push([\n          0,\n          charHeight * newLine,\n          charWidth * charsPeerLine,\n          charHeight * middleLines,\n        ])\n        newLine += middleLines\n      }\n      const afterLength = left % charsPeerLine\n      xywhs.push([\n        0,\n        charHeight * newLine,\n        charWidth * afterLength,\n        charHeight,\n      ])\n    }\n    return {index, para, line, col, xywhs}\n  }\n\n  _clear () {\n    this.splice(0, this.length, {\n      index: -1,\n      para: -1,\n      col: -1,\n      line: -1,\n    })\n    this._paraIndex = 0\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/worker/Coordinates.js"],"sourceRoot":""}